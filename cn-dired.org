#+TITLE: Dired Reference Card

#+BEGIN_CENTER
（基于 GNU Emacs 25 的 Dired）\\
有 (*DX*) 标记的命令来源于 dired-x
#+END_CENTER

* 启动和退出 Dired

| 启动 dired                 | ~C-x d~          |
| dired 你当前编辑文件的目录 | ~C-x C-j~ (*DX*) |
| 退出 dired                 | ~q~              |

* 移动命令

| 移动到上一行             | ~p~     |
| 移动到下一行             | ~n~     |
| 移动到上一个目录         | ~<~     |
| 移动到下一个目录         | ~>~     |
| 移动到上一个已标记的文件 | ~M-{~   |
| 移动到下一个已标记的文件 | ~M-}~   |
| 移动到上一个字目录       | ~C-M-p~ |
| 移动到下一个字目录       | ~C-M~n~ |
| 移动到父目录             | ~^~     |
| 移动到第一个字目录       | ~C-M-d~ |

* 鼠标命令

| 打开文件或目录 | ~Mouse_Button_2~ |

* 立即操作文件的功能

| 打开当前文件                    | ~f~ |
| 查看（以只读模式打开）文件      | ~v~ |
| 在其它窗口中打开当前文件        | ~o~ |
| 创建一个新字目录                | ~+~ |
| 拿光标下的文件已标记的文件 diff | ~=~ |

* 标记和取消标记文件

| 标记文件或子目录                                     | ~m~           |
| 取消标记文件，如果是子目录，则取消标记其下的所有文件 | ~u~           |
| 取消标记 buffer 中的所有标记                         | ~M-delete~    |
| 按文件扩展名标记文件                                 | ~* .~         |
| 标记所有的目录                                       | ~* /~         |
| 标记所有的 symlink                                   | ~* @~         |
| 标记所有的可执行文件                                 | ~* *~         |
| 标记所有未标记的，取消所有已标记的                   | ~t~           |
| 标记当前子目录下的所有文件                           | ~* s~         |
| 按正则表达式标记文件                                 | ~* %~         |
| 修改标记符号                                         | ~* c~         |
| 按 Elisp 表达式的结果是否返回 t 来标记               | ~* (~ (*DX*)) |

* 修改 Dired buffer

| 插入一个子目录                       | ~i~     |
| 隐藏已标记的文件                     | ~k~     |
| 隐藏一个子目录                       | ~C-u k~ |
| 刷新，重新读取目录（保留所有的标记） | ~g~     |
| 在按名称和时间排序之间切换           | ~s~     |
| 修改 ls 选项                         | ~C-u s~ |
| 复原标记和被隐藏的行等等 (undo)      | ~C-_~   |
| 隐藏所有的子目录                     | ~M-$~   |
| 隐藏或显示子目录                     | ~$~     |

* 对已标记了的文件（或按 Prefix Argument 指定）执行命令

| 复制文件                                            | ~C~        |
| 重命名或移动文件                                    | ~R~        |
| 改变文件的所有权 (ownership)                        | ~O~        |
| 改变文件的分组 (group)                              | ~G~        |
| 改变文件的 mode                                     | ~M~        |
| 打印机打印文件                                      | ~P~        |
| 小写化文件名                                        | ~% l~      |
| 大写化文件名                                        | ~% u~      |
| 删除已经标记的文件                                  | ~D~        |
| 压缩或解压文件                                      | ~Z~        |
| 用 info 运行文件                                    | ~I~ (*DX*) |
| 创建 symbolic links(s)                              | ~S~        |
| 创建 relative symbolic link(s)                      | ~Y~        |
| 创建 hard link(s)                                   | ~H~        |
| 用正则表达式搜索已标记的文件                        | ~A~        |
| 用正则表达式搜索并替换 (query-replace) 已标记的文件 | ~Q~        |
| byte-compile 文件 (Elisp)                           | ~B~        |
| 加载文件 (Elisp)                                    | ~L~        |
| 以标记的文件为参数，执行 shell 命令                 | ~!~        |
| 同上，但以异步的形式                                | ~&~        |

* TODO Flagging Files for Deletion

*Unmark commands remove delete flags*

| flag file for deletion                               | ~d~   |
| flag all backup files (file names ending in ~~~)     | ~~~   |
| flag all auto-save files                             | ~#~   |
| flag various intermediate files                      | ~% &~ |
| flag numeric backups (ending in ~.~1~~, ~.~2~~, etc) | ~.~   |
| execute the deletions requested (flagged files)      | ~x~   |
| flag files matching a regular expression             | ~% d~ |

* TODO Regular Expression Commands

| mark filenames matching a regular expression | ~% m~ |
| copy marked files by regexp                  | ~% C~ |
| rename marked files by regexp                | ~% R~ |
| hardlink                                     | ~% H~ |
| symlink                                      | ~% S~ |
| symlink, with relative paths                 | ~% Y~ |
| mark for deletion                            | ~% d~ |

* TODO Dired and Find

| dired file(s) whose name matches a pattern | ~M-x find-name-dired~ |
| dired file(s) that contain pattern         | ~M-x find-grep-dired~ |
| dired file(s) based on find output         | ~M-x find-dired~      |

* 获取帮助

| dired 帮助           | ~h~ |
| dired 概要和错误日志 | ~?~ |

#+BEGIN_CENTER
Copyright © 2016 Free Software Foundation, Inc.\\
For GNU Emacs version 25\\
Originally written May 2000 by Evgeny Roubinchtein.
#+END_CENTER
