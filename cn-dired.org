#+TITLE: Dired Reference Card

#+BEGIN_CENTER
（基于 GNU Emacs 25 的 Dired）\\
有 (*DX*) 标记的命令来源于 dired-x
#+END_CENTER

* 启动和退出 Dired

| 启动 dired                 | ~C-x d~          |
| dired 你当前编辑文件的目录 | ~C-x C-j~ (*DX*) |
| 退出 dired                 | ~q~              |

* 移动命令

| 移动到上一行             | ~p~     |
| 移动到下一行             | ~n~     |
| 移动到上一个目录         | ~<~     |
| 移动到下一个目录         | ~>~     |
| 移动到上一个已标记的文件 | ~M-{~   |
| 移动到下一个已标记的文件 | ~M-}~   |
| 移动到上一个字目录       | ~C-M-p~ |
| 移动到下一个字目录       | ~C-M~n~ |
| 移动到父目录             | ~^~     |
| 移动到第一个字目录       | ~C-M-d~ |

* 鼠标命令

| 打开文件或目录 | ~Mouse_Button_2~ |

* 立即操作文件的功能

| 打开当前文件                    | ~f~ |
| 查看（以只读模式打开）文件      | ~v~ |
| 在其它窗口中打开当前文件        | ~o~ |
| 创建一个新字目录                | ~+~ |
| 拿光标下的文件已标记的文件 diff | ~=~ |

* 标记和取消标记文件

| 标记文件或子目录                                     | ~m~           |
| 取消标记文件，如果是子目录，则取消标记其下的所有文件 | ~u~           |
| 取消标记 buffer 中的所有标记                         | ~M-delete~    |
| 按文件扩展名标记文件                                 | ~* .~         |
| 标记所有的目录                                       | ~* /~         |
| 标记所有的 symlink                                   | ~* @~         |
| 标记所有的可执行文件                                 | ~* *~         |
| 标记所有未标记的，取消所有已标记的                   | ~t~           |
| 标记当前子目录下的所有文件                           | ~* s~         |
| 按正则表达式标记文件                                 | ~* %~         |
| 修改标记符号                                         | ~* c~         |
| 按 Elisp 表达式的结果是否返回 t 来标记               | ~* (~ (*DX*)) |

* 修改 Dired buffer

| 插入一个子目录                       | ~i~     |
| 隐藏已标记的文件                     | ~k~     |
| 隐藏一个子目录                       | ~C-u k~ |
| 刷新，重新读取目录（保留所有的标记） | ~g~     |
| 在按名称和时间排序之间切换           | ~s~     |
| 修改 ls 选项                         | ~C-u s~ |
| 复原标记和被隐藏的行等等 (undo)      | ~C-_~   |
| 隐藏所有的子目录                     | ~M-$~   |
| 隐藏或显示子目录                     | ~$~     |

* 对已标记了的文件（或按 Prefix Argument 指定）执行命令

| 复制文件                                            | ~C~        |
| 重命名或移动文件                                    | ~R~        |
| 改变文件的所有权 (ownership)                        | ~O~        |
| 改变文件的分组 (group)                              | ~G~        |
| 改变文件的 mode                                     | ~M~        |
| 打印机打印文件                                      | ~P~        |
| 小写化文件名                                        | ~% l~      |
| 大写化文件名                                        | ~% u~      |
| 删除已经标记的文件                                  | ~D~        |
| 压缩或解压文件                                      | ~Z~        |
| 用 info 运行文件                                    | ~I~ (*DX*) |
| 创建 symbolic links(s)                              | ~S~        |
| 创建 relative symbolic link(s)                      | ~Y~        |
| 创建 hard link(s)                                   | ~H~        |
| 用正则表达式搜索已标记的文件                        | ~A~        |
| 用正则表达式搜索并替换 (query-replace) 已标记的文件 | ~Q~        |
| byte-compile 文件 (Elisp)                           | ~B~        |
| 加载文件 (Elisp)                                    | ~L~        |
| 以标记的文件为参数，执行 shell 命令                 | ~!~        |
| 同上，但以异步的形式                                | ~&~        |

* 标记文件以供删除

Flag 用 ~D~ 表示，用途仅仅是删除。Mark 一般用 ~*~ 表示，用途多样。

*取消标记的命令也会取消删除标记*

| 标记文件以供删除                                              | ~d~   |
| 标记所有备份文件（文件名以 ~~~ 结尾）                         | ~~~   |
| 标记所有 auto-save 的文件                                     | ~#~   |
| 标记各种各样的中间文件                                        | ~% &~ |
| 标记 Emacs 数字化的备份文件（文件名以 ~.~1~~, ~.~2~~ 等结尾） | ~.~   |
| 执行删除请求（已经有删除标记的文件）                          | ~x~   |
| 标记匹配正则表达式的文件                                      | ~% d~ |

* 用到正则表达式的命令

| 标记那些文件名匹配某个正则表达式的文件                             | ~% m~ |
| 在已标记的文件中，复制那些文件名匹配某个正则表达式的文件           | ~% C~ |
| 在已标记的文件中，重命名（移动）那些文件名匹配某个正则表达式的文件 | ~% R~ |
| hardlink                                                           | ~% H~ |
| symlink                                                            | ~% S~ |
| symlink, with relative paths                                       | ~% Y~ |
| 给所有文件名匹配某个正则表达式的文件添加删除标记                   | ~% d~ |

* Dired 和 Find

| 用 Dired 列出文件名匹配某个 wildcard 的文件 | ~M-x find-name-dired~ |
| 用 Dired 列出文件内容匹配某个 regexp 的文件 | ~M-x find-grep-dired~ |
| 用 Dired 累出 find 的结果                   | ~M-x find-dired~      |

* 获取帮助

| dired 帮助           | ~h~ |
| dired 概要和错误日志 | ~?~ |

#+BEGIN_CENTER
Copyright © 2016 Free Software Foundation, Inc.\\
For GNU Emacs version 25\\
Originally written May 2000 by Evgeny Roubinchtein.
#+END_CENTER
